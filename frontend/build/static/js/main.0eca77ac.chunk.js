(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{25:function(e,t,a){e.exports=a.p+"static/media/mockData.1d013d9a.geojson"},26:function(e,t){e.exports="data:image/png;base64,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"},29:function(e,t,a){e.exports=a(55)},34:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){},55:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(22),c=a.n(o),i=(a(34),a(27)),s=a(6),l=a(1),p=a(2),u=a(4),m=a(3),d=a(5),h=(a(35),a(36),a(37),function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"filters"},r.a.createElement("h1",null,"Our batch locations"),r.a.createElement("p",null,"These are the filters"))}}]),t}(r.a.Component)),f=(a(38),a(39),a(16)),b=a(23),v=a.n(b),g=(a(40),function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e,t="medium",a="orange",n=v()("CTA",(e={},Object(f.a)(e,"CTA--".concat(this.props.buttonSize||t),!0),Object(f.a)(e,"CTA--".concat(this.props.buttonColor||a),!0),e));return r.a.createElement("button",{type:this.props.type,onClick:this.props.onClick,className:n},this.props.text)}}]),t}(r.a.Component)),j=a(24),A=a.n(j),O=(a(47),a(48),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={value:a.props.defaultValue},a.handleChange=function(e){a.setState({value:e})},a.handleChangeComplete=function(){},a}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=0,t=100,a=this.state.value;return r.a.createElement("div",{className:"slider-container"},r.a.createElement("div",{className:"value"},a),r.a.createElement(A.a,{min:this.props.minValue||e,max:this.props.maxValue||t,value:a,onChange:this.handleChange,onChangeComplete:this.handleChangeComplete}),r.a.createElement("div",{className:"value"},this.props.maxValue))}}]),t}(r.a.Component)),E=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={isSelected:!1},a.selectPreview=function(){a.props.callFlyToMarker(a.props.feature)},a.selectAdd=function(){a.props.updateTotalKg(a.state.isSelected?-a.props.feature.properties.weight:a.props.feature.properties.weight),a.props.updateTotalPrice(a.state.isSelected?-a.props.feature.properties.price:a.props.feature.properties.price),a.props.updateTotalScore(a.state.isSelected?-a.props.feature.properties.score:a.props.feature.properties.score),a.setState({isSelected:!a.state.isSelected})},a}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("li",{className:"item ".concat(this.state.isSelected?"item--selected":"")},r.a.createElement("div",{className:"title",onClick:function(){return e.selectPreview()}},this.props.feature.properties.name),r.a.createElement("div",{className:"item__inner"},r.a.createElement("div",{className:"item__left"},r.a.createElement("div",{className:"weight"},"Weight: ",this.props.feature.properties.weight,"kg"),r.a.createElement("div",{className:"sdg-container"},r.a.createElement("span",null,"TOP3 SDG: "),this.props.feature.properties.SDG.map(function(e,t){return r.a.createElement("div",{key:t,className:"sdg","data-value":e},e)}))),r.a.createElement("div",{className:"item__right"},r.a.createElement("div",{className:"price"},"Total price: $",this.props.feature.properties.price))),r.a.createElement("div",{className:"score-container"},r.a.createElement("div",{className:"score"},"Current WP Score: ",this.props.feature.properties.score),r.a.createElement("p",null,"Add Boost: "),r.a.createElement(O,{defaultValue:this.props.feature.properties.score,minValue:this.props.feature.properties.score,maxValue:this.props.feature.properties.scoreMax})),r.a.createElement("div",{className:"cta-container"},r.a.createElement(g,{text:"".concat(this.state.isSelected?"Remove from":"Add to"," cart"),onClick:function(){return e.selectAdd()}})))}}]),t}(r.a.Component),k=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("ul",{className:"listings"},Object.keys(this.props.mockData).map(function(t){return r.a.createElement(E,{updateTotalKg:e.props.updateTotalKg,updateTotalPrice:e.props.updateTotalPrice,updateTotalScore:e.props.updateTotalScore,callFlyToMarker:e.props.callFlyToMarker,key:t,feature:e.props.mockData[t]})}))}}]),t}(r.a.Component),w=(a(49),function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"total"},r.a.createElement("p",null,"Total volume: ",this.props.totalKg,"kg"),r.a.createElement("p",null,"WP Score: ",this.props.totalScore),r.a.createElement("p",null,"Price: $",this.props.totalPrice))}}]),t}(r.a.Component)),y=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={totalKg:0,totalPrice:0,totalScore:0},a.updateTotalKg=function(e){a.setState({totalKg:a.state.totalKg+e})},a.updateTotalPrice=function(e){a.setState({totalPrice:a.state.totalPrice+e})},a.updateTotalScore=function(e){a.setState({totalScore:a.state.totalScore+e})},a}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"side-panel"},r.a.createElement(h,null),r.a.createElement(k,{updateTotalKg:this.updateTotalKg,updateTotalPrice:this.updateTotalPrice,updateTotalScore:this.updateTotalScore,callFlyToMarker:this.props.callFlyToMarker,mockData:this.props.mockData}),r.a.createElement(w,{totalKg:this.state.totalKg,totalPrice:this.state.totalPrice,totalScore:this.state.totalScore}))}}]),t}(r.a.Component),T=a(14),C=(a(50),a(13)),N=a.n(C),S=a(25),M=a.n(S),D=a(26),P=a.n(D),L=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={lat:38.8966,lng:-77.0664,zoom:10,map:""},a.flyToMarker=function(e){a.state.map.flyTo({center:e.geometry.coordinates,zoom:15});var t=document.getElementsByClassName("mapboxgl-popup");t[0]&&t[0].remove(),new N.a.Popup({closeOnClick:!1}).setLngLat(e.geometry.coordinates).setHTML("<h3>Additional infos</h3>\n        <h4>\n          ".concat(e.properties.address,"\n        </h4>\n        <h4>\n          ").concat(e.properties.weight,"kg\n        </h4>")).addTo(a.state.map)},a.addMarkers=function(e){var t=Object(T.a)(a);e.features.forEach(function(e){var a=document.createElement("div");a.id="marker-"+e.properties.id,a.className="marker",a.style.backgroundImage="url('"+P.a+"')",new N.a.Marker(a,{offset:[0,-23]}).setLngLat(e.geometry.coordinates).addTo(t.state.map),a.addEventListener("click",function(a){t.flyToMarker(e)})})},a}return Object(d.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this;fetch("".concat(M.a)).then(function(e){return e.json()}).then(function(a){t.props.setData(a.features),e.setState({map:new N.a.Map({container:e.mapContainer,style:"mapbox://styles/mapbox/streets-v11",center:[e.state.lng,e.state.lat],zoom:e.state.zoom})}),e.state.map.on("move",function(){e.setState({lng:t.state.map.getCenter().lng.toFixed(4),lat:t.state.map.getCenter().lat.toFixed(4),zoom:t.state.map.getZoom().toFixed(2)})}),e.state.map.on("load",function(){t.state.map.addSource("point",{type:"geojson",data:a}),t.addMarkers(a)})})}},{key:"render",value:function(){var e=this;return N.a.accessToken="pk.eyJ1IjoiYWVnaXoiLCJhIjoiY2tlZTNwcDJ3MHBlOTJybHRzaWduNGRjaCJ9.E4R2Mr5QMvQnIWt8StxRQg",r.a.createElement("div",{className:"map"},r.a.createElement("div",{ref:function(t){return e.mapContainer=t},className:"mapContainer"}),r.a.createElement("div",{className:"sidebarStyle"},r.a.createElement("div",null,"Longitude: ",this.state.lng," | Latitude: ",this.state.lat," | Zoom:"," ",this.state.zoom)))}}]),t}(r.a.Component),V=(a(51),function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"user-panel"},r.a.createElement("p",null,"I am the user panel"))}}]),t}(r.a.Component));var K,W=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={mockData:""},a.setData=function(e){a.setState({mockData:e})},a.callFlyToMarker=function(e){a.child.current.flyToMarker(e)},a.child=r.a.createRef(),a}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"homepage",style:{height:"".concat(this.props.windowHeight,"px")}},r.a.createElement(y,{callFlyToMarker:this.callFlyToMarker,mockData:this.state.mockData}),r.a.createElement(L,{ref:this.child,setData:this.setData}),r.a.createElement(V,null))}}]),t}(r.a.Component),Z=(K=W,function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={width:0,height:0},a.updateWindowDimensions=function(){a.setState({width:window.innerWidth,height:window.innerHeight})},a}return Object(d.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.updateWindowDimensions(),window.addEventListener("resize",this.updateWindowDimensions)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateWindowDimensions)}},{key:"render",value:function(){return r.a.createElement(K,Object.assign({},this.props,{windowWidth:this.state.width,windowHeight:this.state.height}))}}]),t}(n.Component)),F=(a(52),function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"share"},"This is the share page")}}]),t}(r.a.Component)),x=function(){return r.a.createElement("div",null,r.a.createElement("h2",null,"Sorry, nothing found :-/"))};var I=function(){return r.a.createElement(i.a,null,r.a.createElement(s.c,null,r.a.createElement(s.a,{exact:!0,path:"/",component:Z}),r.a.createElement(s.a,{path:"/share",component:F}),r.a.createElement(s.a,{component:x})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(I,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[29,1,2]]]);
//# sourceMappingURL=main.0eca77ac.chunk.js.map