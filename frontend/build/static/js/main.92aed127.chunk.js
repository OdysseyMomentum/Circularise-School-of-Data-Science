(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{26:function(e,t,a){e.exports=a.p+"static/media/mockData.af995935.geojson"},27:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAA4CAMAAACfWMssAAAAAXNSR0IB2cksfwAAAAlwSFlzAAAN1wAADdcBQiibeAAAAkZQTFRFAAAA////////////////////////////////////////////////////////8fn1jcmpQaRvI5ZZFI9NBohD////0encQaVwB4hEAIU+////////8PfzUax8BYhC////0+veH5RW////s9rFD4xJ////AIQ9AIQ+AIU9////////////HpNVXrKFhMSihcWjhsWjptS8j8mqZbWKJJZZ////////CopGfcGdbLmQJ5hcW7GDn9G2NJ5lZraLiMalE45M////MJxih8akL5tiA4ZAm8+zRKZxAYU/KpleSqh2Jpdb////gsOgM51lAoZAttzIBIdBLpthv+DPC4pGLZtgi8enBohDI5ZYlcyvF5BPlMyudLyWDItH////oNK3Uax7FI9NYLOHGZFRtdzHjMioUqx8fMCcmc6yd76YGJBP////Q6Vwiseml82w1uvgpdS7DYtIK5pfsNnDx+TVcLuTeL6ZB4hD////RqZzjcioN59oEY1LJZdanNC0BYdCe8CbP6JuXbGEf8KePaJs////qNW9GJBQRaZyH5RVls2wGpFSaLeNIJRWD4xJariOX7KGIZVXU619Z7aMKJdbqta/jsmpksusodK4icemjcipmM6xY7SJHJJTkMmrwuLRDoxJzefZ9vv4YbOHbLmPP6NuXLGEo9O5WrCCPqNtgMKfa7iPut7LBIZBCIlEWbCBAAAACQkJV1dXbGxsAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA+JOeogAAAMJ0Uk5TAAEUIS06AyVNdIACNCZsg6TM4O35RIzL+f8HWoTC+mOM5E+W8Tj///8PfFH///////////8Yf/////////////9Q/////////////3f//////////////////////0j///////////////9b////////////////Z////////////////33///////////////////////////////////////////////////////8NHDJCCx4uMwEaAiYUKRshKzGYgh2aAAADXUlEQVR4nN2W+TtUURjHx85rHctwGDszgzBl1zKEmiQSJSaiIqVtWkmaUlJSaKGk0qLSah+M9T/r3Lkbj3PnXr/19P3lnjnP/cw55z3v+32vTPavyM7ewdHJydHB3m4zlLOLqxswcnN1cZaIuXtwFMN6uEvhPL3wu94+cl8/f38/X7mPN/7p5SmK2QXg9xSBQYhTUKACTwWInDU4BEAZGobWKSxUCRASbItzDgeIiEQbFBkBEG4rRlEA0TEbOYRiogGihLlYvB7PqdRqtYYj8ZqxQlxcPCjpfapULKBWMeNIJcTHCYAJAKHMYghtSUxK1m7dlpLK/kUoQAKZS0sHRRjLZWRmZadu37Fzly4HqenYKiA9jQjmAgRyB9ydl48K9uzV79MW7memAgFySZx7EXgz965B+gPFJQWJB1NK9YfKypkIBXlDESn3HAB8EAsePlKBjlZWGbL1+ceq2dD6ADgQwBoAOXsRKPV4bV3tiZOn6htON545y0zLAWoIYBOAL/PGufNJFy5eyqszXm64cjXz2vUb9LQvQBMBbAbwY8CWm623tFlteJR9O9/UdqeVnvYDaCaAuAj9GTD5bglqr7cO79Ui/X0tPe2PS5MAdvBgZQWqMjzoxKPqh4ZHyNTFgR3kFdmtGh6j9u4nT00Fxp7O3sSKvkZuq6QVm/ngPHv+4mW/Ttc10PPq9WDlm7IhLjikMzbx1/FW967daDQWvze0DQ8Pt/T3cddBimoNnwAliR/KqZB+7Nbjh7a3hEsA0j3izGFTDpV++jwyMvLl68C30dGh7lIu5YiZg3OVT/Lq7zqdbvBH4U9dXlIOn+TEXKWqQ8HZ1K8MrIrff4bLTcwMLitydVD1yBaytSQ50UmOC1mgHikHUEZuBDnrEHIAynN4s1KrVRqNRoVU9HqUWQl6DuVyNuxR2OWsvipoyLZ81erkAi3AtpNbewex6Yj0DqZb0W2Oopg2J96tZEx/pESBzFBCf5TxHZkDJXZkGfsNQIOb+AagNDY+MUmBkxPjY9KpqekZMxYFUs+Z6SlJ2OycmRYLYs3NinPzFvNG0GyZFwUXzCTQvCAKLpLBxU2A6yQOLpBB8a3ywVkrCcHhr2ONpFyHjEsAVlITwKqxpWXLyurqimV5aRMp97/pL0LyVIxNBhkLAAAAAElFTkSuQmCC"},30:function(e,t,a){e.exports=a(56)},35:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){},47:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){},56:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(23),c=a.n(r),i=(a(35),a(28)),s=a(6),l=a(1),u=a(2),p=a(4),m=a(3),d=a(5),h=(a(36),a(37),a(38),function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"filters"},o.a.createElement("h1",null,"Our batch locations"),o.a.createElement("b",null,"Filters:"),o.a.createElement("div",{className:"filter-container"},o.a.createElement("label",{htmlFor:"score"},"WP minimum score:"),o.a.createElement("input",{type:"number",id:"score",name:"score",placeholder:"125",min:"100",max:"600"})),o.a.createElement("div",{className:"filter-container filter-container--price"},o.a.createElement("label",{htmlFor:"price"},"Maximum price:"),o.a.createElement("input",{type:"number",id:"price",name:"price",placeholder:"6000",min:"4000",max:"10000"})))}}]),t}(o.a.Component)),A=(a(39),a(40),a(24)),b=a.n(A),M=(a(46),a(47),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={value:a.props.defaultValue},a.handleChange=function(e){a.setState({value:e}),a.props.updatePrice(e),a.props.updateScore(e)},a.handleChangeComplete=function(){},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=0,t=100,a=this.state.value;return o.a.createElement("div",{className:"slider-container"},o.a.createElement("div",{className:"value value--left"},"WP Score: ",this.props.minValue," (base)"),o.a.createElement(b.a,{min:this.props.minValue||e,max:this.props.maxValue||t,value:a,onChange:this.handleChange,onChangeComplete:this.handleChangeComplete}),o.a.createElement("div",{className:"value value--right"},a," (boosted)"))}}]),t}(o.a.Component)),f=a(25),g=a.n(f),j=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={isSelected:!1,finalBoostedPrice:a.props.feature.properties.price,finalBoostedScore:a.props.feature.properties.score,isButtonDisabled:!1},a.updatePrice=function(e){var t=Math.round(1.02*e);a.setState({finalBoostedPrice:t})},a.updateScore=function(e){a.setState({finalBoostedScore:e})},a.selectPreview=function(){a.props.callFlyToMarker(a.props.feature)},a.selectAdd=function(){a.props.updateTotalKg(a.state.isSelected?-a.props.feature.properties.weight:a.props.feature.properties.weight),a.props.updateTotalPrice(a.state.isSelected?-a.state.finalBoostedPrice:a.state.finalBoostedPrice),a.props.updateTotalScore(a.state.isSelected?-a.state.finalBoostedScore:a.state.finalBoostedScore),a.setState({isSelected:!a.state.isSelected}),a.state.isSelected||(a.setState({isButtonDisabled:!0}),setTimeout(function(){return a.setState({isButtonDisabled:!1})},1500))},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("li",{className:"item ".concat(this.state.isSelected?"item--selected":"")},o.a.createElement("div",{className:"title",onClick:function(){return e.selectPreview()}},this.props.feature.properties.name),o.a.createElement("div",{className:"weight"},"Weight: ",this.props.feature.properties.weight,"kg"),o.a.createElement("div",{className:"slider-container",disabled:this.state.isSelected},o.a.createElement(M,{updatePrice:this.updatePrice,updateScore:this.updateScore,defaultValue:this.props.feature.properties.score,minValue:this.props.feature.properties.score,maxValue:this.props.feature.properties.scoreMax})),!this.state.isSelected&&o.a.createElement("div",{className:"recap"},o.a.createElement("span",null,"Total price: $",this.state.finalBoostedPrice),o.a.createElement("span",null,"Total WP Score: ",this.state.finalBoostedScore)),this.state.isSelected&&o.a.createElement("div",{className:"recap"},o.a.createElement("span",null,"Total price: ",o.a.createElement("b",null,"$",this.state.finalBoostedPrice)),o.a.createElement("span",null,"Total WP Score: ",o.a.createElement("b",null,this.state.finalBoostedScore))),o.a.createElement("div",{className:"cta-container"},o.a.createElement("button",{disabled:this.state.isButtonDisabled,className:"cta",onClick:function(){return e.selectAdd()}},this.state.isSelected?"Remove from":"Add to"," cart",o.a.createElement(g.a,{active:this.state.isSelected}))))}}]),t}(o.a.Component),y=function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("ul",{className:"listings"},Object.keys(this.props.mockData).map(function(t){return o.a.createElement(j,{updateTotalKg:e.props.updateTotalKg,updateTotalPrice:e.props.updateTotalPrice,updateTotalScore:e.props.updateTotalScore,callFlyToMarker:e.props.callFlyToMarker,key:t,feature:e.props.mockData[t]})}))}}]),t}(o.a.Component),w=(a(49),a(17)),v=a(16),E=a.n(v),D=(a(50),function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e,t="medium",a="orange",n=E()("CTA",(e={},Object(w.a)(e,"CTA--".concat(this.props.buttonSize||t),!0),Object(w.a)(e,"CTA--".concat(this.props.buttonColor||a),!0),e));return o.a.createElement("button",{type:this.props.type,onClick:this.props.onClick,className:n},this.props.text)}}]),t}(o.a.Component)),L=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).buyNow=function(){console.log("buy")},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"total"},o.a.createElement("p",null,"Total volume: ",o.a.createElement("b",null,this.props.totalKg,"kg")),o.a.createElement("p",null,"WP Score: ",o.a.createElement("b",null,this.props.totalScore)),o.a.createElement("p",null,"Price: ",o.a.createElement("b",null,"$",this.props.totalPrice)),o.a.createElement(D,{buttonColor:"green",text:"Buy now",onClick:function(){return e.buyNow()}}))}}]),t}(o.a.Component),T=function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"side-panel"},o.a.createElement(h,null),o.a.createElement(y,{updateTotalKg:this.props.updateTotalKg,updateTotalPrice:this.props.updateTotalPrice,updateTotalScore:this.props.updateTotalScore,callFlyToMarker:this.props.callFlyToMarker,mockData:this.props.mockData}),o.a.createElement(L,{totalKg:this.props.totalKg,totalPrice:this.props.totalPrice,totalScore:this.props.totalScore}))}}]),t}(o.a.Component),O=a(14),S=(a(51),a(13)),C=a.n(S),I=a(26),N=a.n(I),k=a(27),B=a.n(k),x=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={lat:11.2418,lng:100.578,zoom:6.69,map:""},a.flyToMarker=function(e){a.state.map.flyTo({center:e.geometry.coordinates,zoom:15});var t=document.getElementsByClassName("mapboxgl-popup");t[0]&&t[0].remove();var n=e.properties.SDG.map(function(e,t){return'<div class="sdg" data-value='.concat(e,">\n        ").concat(e,"\n      </div>")});new C.a.Popup({closeOnClick:!1}).setLngLat(e.geometry.coordinates).setHTML("<h3>".concat(e.properties.location,"</h3>\n        <h4><b>Weight</b>: ").concat(e.properties.weight,"kg</h4>\n        <h4><b>Top SDG</b>:</h4>\n        <div class='sdg-container'>\n          ").concat(n.join(""),"\n        </div>")).addTo(a.state.map)},a.addMarkers=function(e){var t=Object(O.a)(a);e.features.forEach(function(e){var a=document.createElement("div");a.id="marker-"+e.properties.id,a.className="marker",a.style.backgroundImage="url('"+B.a+"')",new C.a.Marker(a,{offset:[0,-23]}).setLngLat(e.geometry.coordinates).addTo(t.state.map),a.addEventListener("click",function(a){t.flyToMarker(e)})})},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this;fetch("".concat(N.a)).then(function(e){return e.json()}).then(function(a){t.props.setData(a.features),e.setState({map:new C.a.Map({container:e.mapContainer,style:"mapbox://styles/mapbox/streets-v11",center:[e.state.lng,e.state.lat],zoom:e.state.zoom})}),e.state.map.on("move",function(){e.setState({lng:t.state.map.getCenter().lng.toFixed(4),lat:t.state.map.getCenter().lat.toFixed(4),zoom:t.state.map.getZoom().toFixed(2)})}),e.state.map.on("load",function(){t.state.map.addSource("point",{type:"geojson",data:a}),t.addMarkers(a)})})}},{key:"render",value:function(){var e=this;return C.a.accessToken="pk.eyJ1IjoiYWVnaXoiLCJhIjoiY2tlZTNwcDJ3MHBlOTJybHRzaWduNGRjaCJ9.E4R2Mr5QMvQnIWt8StxRQg",o.a.createElement("div",{className:"map"},o.a.createElement("div",{ref:function(t){return e.mapContainer=t},className:"mapContainer"}),o.a.createElement("div",{className:"sidebarStyle"},o.a.createElement("div",null,"Longitude: ",this.state.lng," | Latitude: ",this.state.lat," | Zoom:"," ",this.state.zoom)))}}]),t}(o.a.Component),P=(a(52),function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"user-panel"},o.a.createElement("img",{src:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/PjwhRE9DVFlQRSBzdmcgIFBVQkxJQyAnLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4nICAnaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkJz48c3ZnIGhlaWdodD0iMTAwJSIgc3R5bGU9ImZpbGwtcnVsZTpldmVub2RkO2NsaXAtcnVsZTpldmVub2RkO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDoxLjQxNDIxOyIgdmVyc2lvbj0iMS4xIiB2aWV3Qm94PSIwIDAgMTI4IDEyOCIgd2lkdGg9IjEwMCUiIHhtbDpzcGFjZT0icHJlc2VydmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6c2VyaWY9Imh0dHA6Ly93d3cuc2VyaWYuY29tLyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjxyZWN0IGhlaWdodD0iMTI4IiBpZD0iTWVudSIgc3R5bGU9ImZpbGw6bm9uZTsiIHdpZHRoPSIxMjgiIHg9IjAuMzY5IiB5PSIwLjIxIi8+PHBhdGggZD0iTTEwNC4zNjksOTVsLTgwLDBjLTIuMTA1LC0wLjEzMiAtMy4wMDQsLTMuODExIDAsLTRsODAsMGMwLjA4MywwLjAwNSAwLjE2NywwLjAxMSAwLjI1LDAuMDE2YzEuOTUyLDAuMzcyIDIuNjc0LDMuOCAtMC4yNSwzLjk4NFptMCwtMjAuMjYzbC04MCwwYy0yLjA0OSwtMC4xMjkgLTMuMDg3LC0zLjgwNiAwLC00bDgwLDBjMC4wODMsMC4wMDUgMC4xNjcsMC4wMSAwLjI1LDAuMDE1YzEuOTUyLDAuMzczIDIuNjc0LDMuODAxIC0wLjI1LDMuOTg1Wm0wLC0yMC4yNjRsLTgwLDBjLTIuMDc5LC0wLjEzIC0zLjAwNCwtMy44MTEgMCwtNGw4MCwwYzAuMDgzLDAuMDA2IDAuMTY3LDAuMDExIDAuMjUsMC4wMTZjMS45NzcsMC4zNzcgMi41OTksMy44MDUgLTAuMjUsMy45ODRabTAsLTIwLjI2M2wtODAsMGMtMS43MjgsLTAuMTA5IC0xLjgwNSwtMC43ODkgLTEuOTY1LC0xLjYyNWMtMC4yMiwtMS4xNTUgMC43MzYsLTIuMjk4IDEuOTY1LC0yLjM3NWw4MCwwYzAuMDgzLDAuMDA1IDAuMTY3LDAuMDExIDAuMjUsMC4wMTZjMS43MDEsMC4zMjQgMS42OTIsMS4wMDggMS43NDYsMS44NThjMC4wNjgsMS4wODQgLTAuODUyLDIuMDU0IC0xLjk5NiwyLjEyNloiIHN0eWxlPSJmaWxsLXJ1bGU6bm9uemVybzsiLz48L3N2Zz4=",alt:"burger",width:"46",height:"46"}))}}]),t}(o.a.Component));var z,Z=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(p.a)(this,Object(m.a)(t).call(this,e))).state={mockData:"",totalKg:0,totalPrice:0,totalScore:0},a.updateTotalKg=function(e){a.setState({totalKg:a.state.totalKg+e})},a.updateTotalPrice=function(e){a.setState({totalPrice:a.state.totalPrice+e})},a.updateTotalScore=function(e){a.setState({totalScore:a.state.totalScore+e})},a.setData=function(e){a.setState({mockData:e})},a.callFlyToMarker=function(e){a.child.current.flyToMarker(e)},a.child=o.a.createRef(),a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"homepage",style:{height:"".concat(this.props.windowHeight,"px")}},o.a.createElement(T,{callFlyToMarker:this.callFlyToMarker,mockData:this.state.mockData,totalKg:this.state.totalKg,totalPrice:this.state.totalPrice,totalScore:this.state.totalScore,updateTotalKg:this.updateTotalKg,updateTotalPrice:this.updateTotalPrice,updateTotalScore:this.updateTotalScore}),o.a.createElement(x,{ref:this.child,setData:this.setData}),o.a.createElement(P,null))}}]),t}(o.a.Component),W=(z=Z,function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={width:0,height:0},a.updateWindowDimensions=function(){a.setState({width:window.innerWidth,height:window.innerHeight})},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.updateWindowDimensions(),window.addEventListener("resize",this.updateWindowDimensions)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateWindowDimensions)}},{key:"render",value:function(){return o.a.createElement(z,Object.assign({},this.props,{windowWidth:this.state.width,windowHeight:this.state.height}))}}]),t}(n.Component)),K=(a(53),function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"share"},"This is the share page")}}]),t}(o.a.Component)),R=function(){return o.a.createElement("div",null,o.a.createElement("h2",null,"Sorry, nothing found :-/"))};var U=function(){return o.a.createElement(i.a,null,o.a.createElement(s.c,null,o.a.createElement(s.a,{exact:!0,path:"/",component:W}),o.a.createElement(s.a,{path:"/share",component:K}),o.a.createElement(s.a,{component:R})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(U,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[30,1,2]]]);
//# sourceMappingURL=main.92aed127.chunk.js.map